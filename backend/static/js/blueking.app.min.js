BLUEKING.app=function(){return{init:function(){$("#desk").on("click","li.add",function(e){BLUEKING.window.create_add_menu(e)}),BLUEKING.app.move(),BLUEKING.app.moveScrollbar(),$("body").on("contextmenu",".appbtn:not(.add)",function(e){BLUEKING.popupMenu.hide(),BLUEKING.folderView.hide(),BLUEKING.window.hide_add_menu();var t;switch($(this).attr("type")){case"app":t=BLUEKING.popupMenu.app($(this));break;case"folder":t=BLUEKING.popupMenu.folder($(this))}var o=$(window).width()-e.clientX<t.width()?e.clientX-t.width():e.clientX,s=$(window).height()-e.clientY<t.height()?e.clientY-t.height():e.clientY;return t.css({left:o,top:s}).show(),!1}),$("body").on("contextmenu",".appbtn_dock",function(e){BLUEKING.popupMenu.hide(),BLUEKING.folderView.hide(),BLUEKING.docktool.hide();var t=BLUEKING.popupMenu.desk(),o=$(window).width()-e.clientX<t.width()?e.clientX-t.width():e.clientX,s=$(window).height()-e.clientY<t.height()?e.clientY-t.height():e.clientY;return t.css({left:o,top:s}).show(),!1}),BLUEKING.app.getXY(function(){BLUEKING.app.get()})},getXY:function(e){$.ajax({type:"POST",url:urlPrefix+"get_appxy/"}).done(function(t){BLUEKING.CONFIG.appXY=t,e&&e()})},updateXY:function(e){BLUEKING.CONFIG.appXY!=e&&$.ajax({type:"POST",url:urlPrefix+"set_appxy/"+e+"/"}).done(function(){BLUEKING.CONFIG.appXY=e,BLUEKING.deskTop.resize()})},get:function(){$.ajax({type:"POST",url:urlPrefix+"get_my_app/",dataType:"json",beforeSend:function(){BLUEKING.VAR.isAppMoving=!0}}).done(function(e){BLUEKING.VAR.isAppMoving=!1,"object"==typeof e&&("object"==typeof e.dock&&(BLUEKING.VAR.dock=e.dock),"object"==typeof e.desk1&&(BLUEKING.VAR.desk1=e.desk1),"object"==typeof e.desk2&&(BLUEKING.VAR.desk2=e.desk2),"object"==typeof e.desk3&&(BLUEKING.VAR.desk3=e.desk3),"object"==typeof e.desk4&&(BLUEKING.VAR.desk4=e.desk4),"object"==typeof e.desk5&&(BLUEKING.VAR.desk5=e.desk5),"object"==typeof e.folder&&(BLUEKING.VAR.folder=e.folder)),BLUEKING.app.set(!1)}),BLUEKING.app.setDockApp()},set:function(isSetDock){isSetDock=null==isSetDock||isSetDock;for(var j=1;j<=5;j++){var desk_append="",desk=eval("BLUEKING.VAR.desk"+j);""!=desk&&$(desk).each(function(){desk_append+=appbtnTemp({title:this.name,name:this.name,type:this.type,id:"d_"+this.appid,appid:this.appid,code:this.app_code,imgsrc:this.icon,isoutline:this.isoutline,islapp:this.islapp})}),desk_append+=addbtnTemp(),$("#desk-"+j+" li").remove(),$("#desk-"+j+" .desktop-apps-container").append(desk_append)}BLUEKING.app.setPos(!1,isSetDock),$("body .quick_view_container").each(function(){BLUEKING.folderView.get($("#d_"+$(this).attr("appid")))}),$("#desk .folder-window").each(function(){BLUEKING.window.updateFolder($(this).attr("appid"))}),BLUEKING.app.getScrollbar()},setPos:function(e,t){e=null==e||e,$("#desk").removeClass("smallIcon bigIcon"),"s"==BLUEKING.CONFIG.appSize?$("#desk").addClass("smallIcon"):"b"==BLUEKING.CONFIG.appSize&&$("#desk").addClass("bigIcon"),(t=null==t||t)&&BLUEKING.app.setDockApp();for(var o=BLUEKING.grid.getAppGrid(),s=1;s<=5;s++)$("#desk-"+s+" li").each(function(t){var s,i;switch(BLUEKING.CONFIG.appSize){case"s":s=11,i=21;break;case"b":s=21,i=17;break;default:s=7,i=16}var d=o[t].startY+s,a=o[t].startX+i;switch($(this).stop(!0,!1).animate({top:d,left:a},e?500:0),BLUEKING.CONFIG.dockPos){case"top":$(this).attr("left",a).attr("top",d+$("#dock-bar").height());break;case"left":$(this).attr("left",a+$("#dock-bar").width()).attr("top",d);break;default:$(this).attr("left",a).attr("top",d)}});BLUEKING.app.getScrollbar()},setDockApp:function(){var e=500;try{if($.browser.msie)var e=0}catch(e){}var t=BLUEKING.grid.getDockAppGrid();$("#dock-bar .dock-applist li").each(function(o){$(this).animate({top:"top"==BLUEKING.CONFIG.dockPos?t[o].startY:t[o].startY+5,left:"top"==BLUEKING.CONFIG.dockPos?t[o].startX+5:t[o].startX},e).attr("top",$(this).offset().top).attr("left",$(this).offset().left)})},add:function(e,t){$.ajax({type:"POST",url:urlPrefix+"add_my_app/"+e+"/",data:"desk="+BLUEKING.CONFIG.desk,success:function(e){var e=parseInt(e);t&&t.call(this,e)}})},remove:function(e,t){this.remove_new(e,function(e){1==e?t&&t():2==e?ZENG.msgbox.show(gettext("文件夹中有存在的应用，不能删除！"),1,2e3):3==e?(ZENG.msgbox.show(gettext("您早就删除了该应用(或文件夹)，建议刷新桌面！"),1,3e3),t&&t()):0==e&&ZENG.msgbox.show(gettext("删除失败！"),5,2e3)})},remove_new:function(e,t){$.ajax({type:"POST",url:urlPrefix+"del_my_app/"+e+"/",success:function(e){var e=parseInt(e);t&&t.call(this,e)}})},move:function(){$("#dock-bar .dock-applist").on("mousedown","li",function(e){if(e.preventDefault(),e.stopPropagation(),0==e.button||1==e.button){var t=$(this),o=$('<li id="shortcut_shadow">'+t.html()+"</li>"),s=e.clientX,i=e.clientY,d=e.clientX,a=e.clientY,p=s-t.offset().left,n=i-t.offset().top,r=BLUEKING.maskBox.desk();$(document).on("mousemove",function(e){$("#desk").append(o),r.show(),d=e.clientX<=0?0:e.clientX>=$(window).width()?$(window).width():e.clientX,a=e.clientY<=0?0:e.clientY>=$(window).height()?$(window).height():e.clientY,s==d&&i==a||o.css({left:d-p,top:a-n}).show()}).on("mouseup",function(){if($(document).off("mousemove").off("mouseup"),o.remove(),r.hide(),s==d&&i==a){switch(t.attr("type")){case"app":BLUEKING.window.create(t.attr("appid"));break;case"folder":BLUEKING.folderView.get(t)}return!1}})}}),$("#desktop .desktop-apps-container").on("mousedown","li:not(.add)",function(e){if(e.preventDefault(),e.stopPropagation(),0==e.button||1==e.button){var t=$(this),o=$('<li id="shortcut_shadow">'+t.html()+"</li>"),s=e.clientX,i=e.clientY,d=e.clientX,a=e.clientY,p=s-t.offset().left,n=i-t.offset().top,r=BLUEKING.maskBox.desk();$(document).on("mousemove",function(e){$("#desk").append(o),r.show(),d=e.clientX<=0?0:e.clientX>=$(window).width()?$(window).width():e.clientX,a=e.clientY<=0?0:e.clientY>=$(window).height()?$(window).height():e.clientY,s==d&&i==a||o.css({left:d-p,top:a-n}).show()}).on("mouseup",function(){if($(document).off("mousemove").off("mouseup"),o.remove(),r.hide(),s==d&&i==a){switch(t.attr("type")){case"app":BLUEKING.window.create(t.attr("appid"));break;case"folder":BLUEKING.folderView.get(t)}return!1}var e=BLUEKING.grid.searchFolderGrid(d,a);if(null!=e){if("folder"!=t.attr("type")){var p=t.attr("appid"),n=t.index(),c=e,l=BLUEKING.CONFIG.desk;BLUEKING.app.checkIsMoving()||BLUEKING.app.dataDeskToFolder(p,n,c,l)&&$.ajax({type:"POST",url:urlPrefix+"update_my_app/"+p+"/",data:"movetype=desk-folder&from="+n+"&to="+c+"&desk="+l,success:function(){BLUEKING.VAR.isAppMoving=!1}})}}else{var f="left"==BLUEKING.CONFIG.dockPos?0:"top"==BLUEKING.CONFIG.dockPos?($(window).width()-$("#dock-container").width()+20)/2:$(window).width()-$("#dock-container").width(),k="top"==BLUEKING.CONFIG.dockPos?0:($(window).height()-$("#dock-container").height()+20)/2,e=BLUEKING.grid.searchDockAppGrid(d-f,a-k);if(null==e){var f="left"==BLUEKING.CONFIG.dockPos?$("#dock-bar").width():0,k="top"==BLUEKING.CONFIG.dockPos?$("#dock-bar").height():0,I=$("#desk-"+BLUEKING.CONFIG.desk+" .desktop-apps-container").scrollLeft(),G=$("#desk-"+BLUEKING.CONFIG.desk+" .desktop-apps-container").scrollTop(),e=BLUEKING.grid.searchAppGrid(d-f+I,a-k+G);if(null!=e&&e!=t.index()){var N=BLUEKING.grid.searchAppGrid2(d-f+I,a-k+G),p=t.attr("appid"),n=t.index(),c=e,h=N%2==0?"b":"a",l=BLUEKING.CONFIG.desk;if(!BLUEKING.app.checkIsMoving()&&BLUEKING.app.dataDeskToDesk(p,n,c,h,l)){var u=n<c?0:1,L=n<c?-1:0;c="a"==h?c+u:c+L,$.ajax({type:"POST",url:urlPrefix+"update_my_app/"+p+"/",data:"movetype=desk-desk&from="+n+"&to="+c+"&desk="+l,success:function(){BLUEKING.VAR.isAppMoving=!1}})}}}}})}}),$("body").on("mousedown",".folder_body li, .quick_view_container li",function(e){if(e.preventDefault(),e.stopPropagation(),0==e.button||1==e.button){var t=$(this),o=$('<li id="shortcut_shadow">'+t.html()+"</li>"),s=e.clientX,i=e.clientY,d=e.clientX,a=e.clientY,p=s-t.offset().left,n=i-t.offset().top,r=BLUEKING.maskBox.desk();$(document).on("mousemove",function(e){$("#desk").append(o),r.show(),d=e.clientX<=0?0:e.clientX>=$(window).width()?$(window).width():e.clientX,a=e.clientY<=0?0:e.clientY>=$(window).height()?$(window).height():e.clientY,s==d&&i==a||o.css({left:d-p,top:a-n}).show()}).on("mouseup",function(){if($(document).off("mousemove").off("mouseup"),o.remove(),r.hide(),s==d&&i==a){switch(t.attr("type")){case"app":BLUEKING.window.create(t.attr("appid"))}return!1}var e=BLUEKING.grid.searchFolderGrid(d,a);if(null!=e){if((t.parents(".folder-window").attr("appid")||t.parents(".quick_view_container").attr("appid"))!=e){var p=t.attr("appid"),n=t.index(),c=e,l=t.parents(".folder-window").attr("appid")||t.parents(".quick_view_container").attr("appid");BLUEKING.app.checkIsMoving()||BLUEKING.app.dataFolderToFolder(p,n,c,l)&&$.ajax({type:"POST",url:urlPrefix+"update_my_app/"+p+"/",data:"movetype=folder-otherfolder&to="+c,success:function(){BLUEKING.VAR.isAppMoving=!1}})}}else{var f="left"==BLUEKING.CONFIG.dockPos?0:"top"==BLUEKING.CONFIG.dockPos?($(window).width()-$("#dock-container").width()+20)/2:$(window).width()-$("#dock-container").width(),k="top"==BLUEKING.CONFIG.dockPos?0:($(window).height()-$("#dock-container").height()+20)/2,e=BLUEKING.grid.searchDockAppGrid(d-f,a-k);if(null==e){var f="left"==BLUEKING.CONFIG.dockPos?$("#dock-bar").width():0,k="top"==BLUEKING.CONFIG.dockPos?$("#dock-bar").height():0,I=$("#desk-"+BLUEKING.CONFIG.desk+" .desktop-apps-container").scrollLeft(),G=$("#desk-"+BLUEKING.CONFIG.desk+" .desktop-apps-container").scrollTop(),e=BLUEKING.grid.searchAppGrid(d-f+I,a-k+G);if(null!=e){var N=BLUEKING.grid.searchAppGrid2(d-f+I,a-k+G),p=t.attr("appid"),n=t.index(),c=e,l=t.parents(".folder-window").attr("appid")||t.parents(".quick_view_container").attr("appid"),h=N%2==0?"b":"a",u=BLUEKING.CONFIG.desk;BLUEKING.app.checkIsMoving()||BLUEKING.app.dataFolderToDesk(p,n,c,l,h,u)&&(c="a"==h?c+1:c,$.ajax({type:"POST",url:urlPrefix+"update_my_app/"+p+"/",data:"movetype=folder-desk&to="+c+"&desk="+u,success:function(){BLUEKING.VAR.isAppMoving=!1}}))}}}})}})},getScrollbar:function(){setTimeout(function(){$("#desk .desktop-container").each(function(){var e=$(this).children(".desktop-apps-container"),t=$(this).children(".scrollbar"),o=e.nextAll(".scrollbar-x").position().left,s=e.nextAll(".scrollbar-y").position().top;if(t.hide(),e.scrollLeft(0).scrollTop(0),"x"==BLUEKING.CONFIG.appXY){var i=parseInt(e.children(".add").css("top"))+108;e.height()/i<1&&(e.nextAll(".scrollbar-y").height(e.height()/i*e.height()),s=s+e.nextAll(".scrollbar-y").height()>e.height()?e.height()-e.nextAll(".scrollbar-y").height():s,e.nextAll(".scrollbar-y").css("top",s).show(),e.scrollTop(s/e.height()*i))}else{var d=parseInt(e.children(".add").css("left"))+106;e.width()/d<1&&(e.nextAll(".scrollbar-x").width(e.width()/d*e.width()),o=o+e.nextAll(".scrollbar-x").width()>e.width()?e.width()-e.nextAll(".scrollbar-w").width():o,e.nextAll(".scrollbar-x").css("left",o).show(),e.scrollLeft(o/e.width()*d))}})},500)},moveScrollbar:function(){$("#desk .scrollbar").on("mousedown",function(e){var t,o,s,i,d,a,p,n,r=$(this),c=r.prevAll(".desktop-apps-container");d=parseInt(c.children(".add").css("left"))+106,a=parseInt(c.children(".add").css("top"))+108,p=c.width()-r.width(),n=c.height()-r.height(),r.hasClass("scrollbar-x")?t=e.clientX-r.position().left:o=e.clientY-r.position().top,$(document).on("mousemove",function(e){r.hasClass("scrollbar-x")?(s=e.clientX-t<0?0:e.clientX-t>p?p:e.clientX-t,r.css("left",s),c.scrollLeft(s/c.width()*d)):(i=e.clientY-o<0?0:e.clientY-o>n?n:e.clientY-o,r.css("top",i),c.scrollTop(i/c.height()*a))}).on("mouseup",function(){$(this).off("mousemove").off("mouseup")})});for(var e=1;e<=5;e++)$("#desk-"+e).on("mousewheel",function(e,t){var o=$(this).find(".desktop-apps-container");if("x"==BLUEKING.CONFIG.appXY){var s,i=parseInt(o.find(".add").css("top"))+108;s=t<0?o.scrollTop()+200>i-o.height()?i-o.height():o.scrollTop()+200:o.scrollTop()-200<0?0:o.scrollTop()-200,o.stop(!1,!0).animate({scrollTop:s},300),o.nextAll(".scrollbar-y").stop(!1,!0).animate({top:s/i*o.height()},300)}else{var d,a=parseInt(o.find(".add").css("left"))+106;d=t<0?o.scrollLeft()+200>a-o.width()?a-o.width():o.scrollLeft()+200:o.scrollLeft()-200<0?0:o.scrollLeft()-200,o.stop(!1,!0).animate({scrollLeft:d},300),o.nextAll(".scrollbar-x").stop(!1,!0).animate({left:d/a*o.width()},300)}})},checkIsMoving:function(){var e=!1;return BLUEKING.VAR.isAppMoving?($.dialog({title:gettext("温馨提示"),icon:"warning",content:gettext("数据正在处理中，请稍后。"),ok:!0}),e=!0):BLUEKING.VAR.isAppMoving=!0,e},dataWarning:function(){$.dialog({title:gettext("温馨提示"),icon:"warning",content:gettext("数据错误，请刷新后重试。"),ok:!0})},dataDockToFolder:function(e,t,o){var s=!1;return $(BLUEKING.VAR.dock).each(function(t){if(this.appid==e)return $(BLUEKING.VAR.folder).each(function(e){if(this.appid==o)return BLUEKING.VAR.folder[e].apps.push(BLUEKING.VAR.dock[t]),BLUEKING.VAR.folder[e].apps=BLUEKING.VAR.folder[e].apps.sortBy(function(e){return e.appid},!0),BLUEKING.VAR.dock.splice(t,1),s=!0,!1}),!1}),s?$("#desktop").is(":visible")?BLUEKING.app.set():BLUEKING.appmanage.set():BLUEKING.app.dataWarning(),s},dataDockToDock:function(e,t,o,s){var i=!1;return null!=BLUEKING.VAR.dock[t]&&(0==o?"b"==s?BLUEKING.VAR.dock.splice(0,0,BLUEKING.VAR.dock[t]):BLUEKING.VAR.dock.splice(1,0,BLUEKING.VAR.dock[t]):"b"==s?BLUEKING.VAR.dock.splice(o,0,BLUEKING.VAR.dock[t]):BLUEKING.VAR.dock.splice(o+1,0,BLUEKING.VAR.dock[t]),t>o?BLUEKING.VAR.dock.splice(t+1,1):BLUEKING.VAR.dock.splice(t,1),i=!0),i?$("#desktop").is(":visible")?BLUEKING.app.set():BLUEKING.appmanage.set():BLUEKING.app.dataWarning(),i},dataDockToDesk:function(id,from,to,boa,desk){var rtn=!1;return desk=eval("BLUEKING.VAR.desk"+desk),null!=BLUEKING.VAR.dock[from]&&(0==to?"b"==boa?desk.splice(0,0,BLUEKING.VAR.dock[from]):desk.splice(1,0,BLUEKING.VAR.dock[from]):"b"==boa?desk.splice(to,0,BLUEKING.VAR.dock[from]):desk.splice(to+1,0,BLUEKING.VAR.dock[from]),BLUEKING.VAR.dock.splice(from,1),rtn=!0),rtn?$("#desktop").is(":visible")?BLUEKING.app.set():BLUEKING.appmanage.set():BLUEKING.app.dataWarning(),rtn},dataDockToOtherdesk:function(id,from,todesk){var rtn=!1;return todesk=eval("BLUEKING.VAR.desk"+todesk),null!=BLUEKING.VAR.dock[from]&&(todesk.push(BLUEKING.VAR.dock[from]),BLUEKING.VAR.dock.splice(from,1),rtn=!0),rtn?$("#desktop").is(":visible")?BLUEKING.app.set():BLUEKING.appmanage.set():BLUEKING.app.dataWarning(),rtn},dataDockToDelete:function(e,t){var o=!1;return null!=BLUEKING.VAR.dock[t]&&(BLUEKING.VAR.dock.splice(t,1),o=!0),o?$("#desktop").is(":visible")?BLUEKING.app.set():BLUEKING.appmanage.set():BLUEKING.app.dataWarning(),o},dataDeskToFolder:function(id,from,to,desk){var rtn=!1;return desk=eval("BLUEKING.VAR.desk"+desk),$(BLUEKING.VAR.folder).each(function(e){if(this.appid==to&&null!=desk[from])return BLUEKING.VAR.folder[e].apps.push(desk[from]),BLUEKING.VAR.folder[e].apps=BLUEKING.VAR.folder[e].apps.sortBy(function(e){return e.appid},!0),desk.splice(from,1),rtn=!0,!1}),rtn?$("#desktop").is(":visible")?BLUEKING.app.set():BLUEKING.appmanage.set():BLUEKING.app.dataWarning(),rtn},dataDeskToDock:function(id,from,to,boa,desk){var rtn=!1;return desk=eval("BLUEKING.VAR.desk"+desk),null!=desk[from]&&(0==to?"b"==boa?BLUEKING.VAR.dock.splice(0,0,desk[from]):BLUEKING.VAR.dock.splice(1,0,desk[from]):"b"==boa?BLUEKING.VAR.dock.splice(to,0,desk[from]):BLUEKING.VAR.dock.splice(to+1,0,desk[from]),desk.splice(from,1),BLUEKING.VAR.dock.length>7&&(desk.push(BLUEKING.VAR.dock[7]),BLUEKING.VAR.dock.splice(7,1)),rtn=!0),rtn?$("#desktop").is(":visible")?BLUEKING.app.set():BLUEKING.appmanage.set():BLUEKING.app.dataWarning(),rtn},dataDeskToDesk:function(id,from,to,boa,desk){var rtn=!1;return desk=eval("BLUEKING.VAR.desk"+desk),null!=desk[from]&&(0==to?"b"==boa?desk.splice(0,0,desk[from]):desk.splice(1,0,desk[from]):"b"==boa?desk.splice(to,0,desk[from]):desk.splice(to+1,0,desk[from]),from>to?desk.splice(from+1,1):desk.splice(from,1),rtn=!0),rtn?$("#desktop").is(":visible")?BLUEKING.app.set():BLUEKING.appmanage.set():BLUEKING.app.dataWarning(),rtn},dataDeskToOtherdesk:function(id,from,to,boa,todesk,fromdesk){var rtn=!1;return fromdesk=eval("BLUEKING.VAR.desk"+fromdesk),todesk=eval("BLUEKING.VAR.desk"+todesk),null!=fromdesk[from]&&(0==to?"b"==boa?todesk.splice(0,0,fromdesk[from]):todesk.splice(1,0,fromdesk[from]):"b"==boa?todesk.splice(to,0,fromdesk[from]):todesk.splice(to+1,0,fromdesk[from]),fromdesk.splice(from,1),rtn=!0),rtn?$("#desktop").is(":visible")?BLUEKING.app.set():BLUEKING.appmanage.set():BLUEKING.app.dataWarning(),rtn},dataFolderToFolder:function(e,t,o,s){var i,d,a=!1,p=0;return $(BLUEKING.VAR.folder).each(function(e){this.appid==s&&null!=BLUEKING.VAR.folder[e].apps[t]&&(i=e,p+=1),this.appid==o&&(d=e,p+=1)}),2==p&&(BLUEKING.VAR.folder[d].apps.push(BLUEKING.VAR.folder[i].apps[t]),BLUEKING.VAR.folder[d].apps=BLUEKING.VAR.folder[d].apps.sortBy(function(e){return e.appid},!0),BLUEKING.VAR.folder[i].apps.splice(t,1),a=!0),a?$("#desktop").is(":visible")?BLUEKING.app.set():BLUEKING.appmanage.set():BLUEKING.app.dataWarning(),a},dataFolderToDock:function(id,from,to,fromFolderId,boa,desk){var rtn=!1;return desk=eval("BLUEKING.VAR.desk"+desk),$(BLUEKING.VAR.folder).each(function(e){if(this.appid==fromFolderId&&null!=BLUEKING.VAR.folder[e].apps[from])return 0==to?"b"==boa?BLUEKING.VAR.dock.splice(0,0,BLUEKING.VAR.folder[e].apps[from]):BLUEKING.VAR.dock.splice(1,0,BLUEKING.VAR.folder[e].apps[from]):"b"==boa?BLUEKING.VAR.dock.splice(to,0,BLUEKING.VAR.folder[e].apps[from]):BLUEKING.VAR.dock.splice(to+1,0,BLUEKING.VAR.folder[e].apps[from]),BLUEKING.VAR.folder[e].apps.splice(from,1),BLUEKING.VAR.dock.length>7&&(desk.push(BLUEKING.VAR.dock[7]),BLUEKING.VAR.dock.splice(7,1)),rtn=!0,!1}),rtn?$("#desktop").is(":visible")?BLUEKING.app.set():BLUEKING.appmanage.set():BLUEKING.app.dataWarning(),rtn},dataFolderToDesk:function(id,from,to,fromFolderId,boa,desk){var rtn=!1;return desk=eval("BLUEKING.VAR.desk"+desk),$(BLUEKING.VAR.folder).each(function(e){if(this.appid==fromFolderId&&null!=BLUEKING.VAR.folder[e].apps[from])return 0==to?"b"==boa?desk.splice(0,0,BLUEKING.VAR.folder[e].apps[from]):desk.splice(1,0,BLUEKING.VAR.folder[e].apps[from]):"b"==boa?desk.splice(to,0,BLUEKING.VAR.folder[e].apps[from]):desk.splice(to+1,0,BLUEKING.VAR.folder[e].apps[from]),BLUEKING.VAR.folder[e].apps.splice(from,1),rtn=!0,!1}),rtn?$("#desktop").is(":visible")?BLUEKING.app.set():BLUEKING.appmanage.set():BLUEKING.app.dataWarning(),rtn},dataFolderToOtherdesk:function(id,from,todesk,fromFolderId){var rtn=!1;return todesk=eval("BLUEKING.VAR.desk"+todesk),$(BLUEKING.VAR.folder).each(function(e){if(this.appid==fromFolderId&&null!=BLUEKING.VAR.folder[e].apps[from])return todesk.push(BLUEKING.VAR.folder[e].apps[from]),BLUEKING.VAR.folder[e].apps.splice(from,1),rtn=!0,!1}),rtn?$("#desktop").is(":visible")?BLUEKING.app.set():BLUEKING.appmanage.set():BLUEKING.app.dataWarning(),rtn},dataAllDockToDesk:function(desk){desk=eval("BLUEKING.VAR.desk"+desk),$(BLUEKING.VAR.dock).each(function(e){desk.push(BLUEKING.VAR.dock[e])}),BLUEKING.VAR.dock.splice(0,BLUEKING.VAR.dock.length)},dataDeleteByAppid:function(appid){$(BLUEKING.VAR.dock).each(function(e){if(this.appid==appid)return BLUEKING.VAR.dock.splice(e,1),!1});for(var i=1;i<=5;i++){var desk=eval("BLUEKING.VAR.desk"+i);$(desk).each(function(e){if(this.appid==appid)return desk.splice(e,1),"folder"==this.type&&$(BLUEKING.VAR.folder).each(function(e){if(this.appid==appid)return BLUEKING.VAR.folder.splice(e,1),!1}),!1})}$(BLUEKING.VAR.folder).each(function(e){$(this.apps).each(function(t){if(this.appid==appid)return BLUEKING.VAR.folder[e].apps.splice(t,1),!1})})}}}();