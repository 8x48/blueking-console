BLUEKING.grid=function(){return{getAppGrid:function(){var t,r,a=$("#desk-"+BLUEKING.CONFIG.desk).width()-BLUEKING.CONFIG.appButtonLeft,e=$("#desk-"+BLUEKING.CONFIG.desk).height()-BLUEKING.CONFIG.appButtonTop,n=BLUEKING.CONFIG.appButtonTop,s=BLUEKING.CONFIG.appButtonLeft,d=[];switch(BLUEKING.CONFIG.appSize){case"s":t=80;break;case"b":t=140;break;default:t=100}switch(BLUEKING.CONFIG.appSize){case"s":r=100;break;case"b":r=160;break;default:r=120}for(var i=0;i<1e4;i++)d.push({startY:n,endY:n+t,startX:s,endX:s+r}),"x"==BLUEKING.CONFIG.appXY?(s+=r)+r>a&&(n+=t,s=BLUEKING.CONFIG.appButtonLeft):(n+=t)+t>e&&(n=BLUEKING.CONFIG.appButtonTop,s+=r);return d},searchAppGrid:function(t,r){for(var a=BLUEKING.grid.getAppGrid(),e=null,n=0;n<a.length;n++)if(t>=a[n].startX&&t<=a[n].endX&&r>=a[n].startY&&r<=a[n].endY){e=n;break}return e},searchAppGrid2:function(t,r){for(var a=BLUEKING.grid.getAppGrid(),e=[],n=0;n<a.length;n++){var s=a[n].endY-a[n].startY,d=a[n].endX-a[n].startX,i=s/2,p=d/2;"x"==BLUEKING.CONFIG.appXY?e.push({startY:a[n].startY,endY:a[n].startY+s,startX:a[n].startX,endX:a[n].startX+p},{startY:a[n].startY,endY:a[n].startY+s,startX:a[n].startX+p,endX:a[n].endX}):e.push({startY:a[n].startY,endY:a[n].startY+i,startX:a[n].startX,endX:a[n].startX+d},{startY:a[n].startY+i,endY:a[n].endY,startX:a[n].startX,endX:a[n].startX+d})}for(var X=null,n=0;n<e.length;n++)if(t>=e[n].startX&&t<=e[n].endX&&r>=e[n].startY&&r<=e[n].endY){X=n;break}return X},getDockAppGrid:function(){for(var t=$("#dock-bar .dock-applist").height(),r=[],a=0,e=0,n=0;n<6;n++)r.push({startY:a,endY:a+79,startX:e,endX:e+79}),(a+=79)+79>t&&(a=0,e+=79);return r},searchDockAppGrid:function(t,r){for(var a=BLUEKING.grid.getDockAppGrid(),e=null,n=0;n<a.length;n++)if(t>=a[n].startX&&t<=a[n].endX&&r>=a[n].startY&&r<=a[n].endY){e=n;break}return e},searchDockAppGrid2:function(t,r){for(var a=BLUEKING.grid.getDockAppGrid(),e=[],n=0;n<a.length;n++){var s=a[n].endY-a[n].startY,d=a[n].endX-a[n].startX,i=s/2,p=d/2;"top"==BLUEKING.CONFIG.dockPos?e.push({startY:a[n].startY,endY:a[n].startY+s,startX:a[n].startX,endX:a[n].startX+p},{startY:a[n].startY,endY:a[n].startY+s,startX:a[n].startX+p,endX:a[n].endX}):e.push({startY:a[n].startY,endY:a[n].startY+i,startX:a[n].startX,endX:a[n].startX+d},{startY:a[n].startY+i,endY:a[n].endY,startX:a[n].startX,endX:a[n].startX+d})}for(var X=null,n=0;n<e.length;n++)if(t>=e[n].startX&&t<=e[n].endX&&r>=e[n].startY&&r<=e[n].endY){X=n;break}return X},getFolderGrid:function(){var t=[];return $(".quick_view_container, .folder-window:visible").each(function(){t.push({zIndex:$(this).css("z-index"),id:$(this).attr("appid"),startY:$(this).offset().top,endY:$(this).offset().top+$(this).height(),startX:$(this).offset().left,endX:$(this).offset().left+$(this).width()})}),t.sort(function(t,r){return r.zIndex-t.zIndex}),t},searchFolderGrid:function(t,r){for(var a=BLUEKING.grid.getFolderGrid(),e=null,n=0;n<a.length;n++)if(t>=a[n].startX&&t<=a[n].endX&&r>=a[n].startY&&r<=a[n].endY){e=a[n].id;break}return e},getManageDockAppGrid:function(){for(var t=[],r=20,a=0;a<100;a++)t.push({startX:r,endX:r+70}),r+=70;return t},searchManageDockAppGrid:function(t){for(var r=BLUEKING.grid.getManageDockAppGrid(),a=null,e=0;e<r.length;e++)if(t>=r[e].startX&&t<=r[e].endX){a=e;break}return a},searchManageDockAppGrid2:function(t){for(var r=BLUEKING.grid.getManageDockAppGrid(),a=[],e=0;e<r.length;e++){var n=r[e].endX-r[e].startX,s=n/2;a.push({startX:r[e].startX,endX:r[e].startX+s},{startX:r[e].startX+s,endX:r[e].endX})}for(var d=null,e=0;e<a.length;e++)if(t>=a[e].startX&&t<=a[e].endX){d=e;break}return d},getManageAppGrid:function(){for(var t=[],r=0,a=0;a<1e4;a++)t.push({startY:r,endY:r+40}),r+=40;return t},searchManageAppGrid:function(t){for(var r=BLUEKING.grid.getManageAppGrid(),a=null,e=0;e<r.length;e++)if(t>=r[e].startY&&t<=r[e].endY){a=e;break}return a},searchManageAppGrid2:function(t){for(var r=BLUEKING.grid.getManageAppGrid(),a=[],e=0;e<r.length;e++){var n=r[e].endY-r[e].startY,s=(r[e].endX,r[e].startX,n/2);a.push({startY:r[e].startY,endY:r[e].startY+s},{startY:r[e].startY+s,endY:r[e].endY})}for(var d=null,e=0;e<a.length;e++)if(t>=a[e].startY&&t<=a[e].endY){d=e;break}return d}}}();