function approval_apply(a,e){var t={record_id:a,approval_result:e};$.post(site_url+"user_center/esb_apply/save_approval_result/",t,function(a){a.result?(art.dialog({width:300,icon:"succeed",lock:!0,content:gettext("审批成功")}).time(2),setTimeout(function(){esb_approval.ajax.reload()},2200)):art.dialog({width:300,icon:"error",lock:!0,content:a.message})},"json")}var esb_approval=$("#esb_approval").DataTable({processing:!0,paging:!0,ordering:!1,info:!0,searching:!1,pageLength:5,lengthChange:!1,language:language,serverSide:!0,ajax:{url:site_url+"user_center/esb_apply/get_not_done_record/"},columnDefs:[{targets:0,data:"operator"},{targets:1,data:"apply_time"},{targets:2,data:"app_name"},{targets:3,data:"sys_name"},{targets:4,data:"api_name"},{targets:5,data:"record_id",render:function(a,e,t,r){return'<a class="mr15" href="###" onclick="approval_apply('+a+", 'pass')\">"+gettext("同意")+'</a><a class="" href="###" onclick="approval_apply('+a+", 'reject')\">"+gettext("驳回")+"</a>"}}],drawCallback:function(a){$(this).closest(".dataTables_wrapper").find(".dataTables_paginate").toggle(this.api().page.info().pages>1)}});